import { callLLM } from "../llm.js";

export async function designAgent(userInput) {

const prompt = `
你是一个文字写作 Agent。

任务：
- 根据“用户需求”生成一篇完整的研究简报文章（中文）
- 只输出文章正文（允许使用 Markdown）
- 不输出 HTML，不输出 JSON，不输出代码块
- 总字数不超过 500 字（含标题）

格式与结构（必须严格遵守）：
1) 第一行必须是标题，格式：# <标题>
2) 后续必须按以下顺序输出 6 个二级标题，且标题文字必须完全一致：
## 引言
## 方法
## 分析
## 讨论
## 结论
3) 每个章节必须有内容（至少 1 句）
4) “分析”章节必须包含 3-5 条要点，使用无序列表：
- 要点1
- 要点2
...

用户需求（唯一事实来源）：
${userInput}

请直接输出文章正文（严格按上述格式），不要添加任何解释。
`;


    return callLLM(prompt);
}